<!-- Navbar with Dark/Light Mode Toggle -->
<header class="bg-white shadow-md dark:bg-gray-900 transition-colors duration-300">
  <nav class="container mx-auto flex justify-between items-center px-6 py-4">
    
    <!-- Brand -->
    <a href="/" class="flex items-center space-x-2">
      <div class="h-8 w-8 rounded-full bg-[#FF385C]"></div>
      <span class="text-xl font-bold tracking-tight text-[#FF385C]">airbnb</span>
    </a>

    <!-- Desktop Menu -->
    <ul class="flex items-center space-x-6 text-sm font-medium">
      <% if (isloggedIn) { %>
        <% if (userType === 'guest') { %>
          <li>
            <a href="/homes"
              class="px-3 py-2 rounded-lg transition 
              <%= currentPage === 'Home' ? 'bg-[#FF385C] text-white' : 
              'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800' %>">
              Home-list
            </a>
          </li>
          <li>
            <a href="/favourites"
              class="px-3 py-2 rounded-lg transition 
              <%= currentPage === 'favourite' ? 'bg-[#FF385C] text-white' : 
              'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800' %>">
              Favourite
            </a>
          </li>
          <li>
            <a href="/bookings"
              class="px-3 py-2 rounded-lg transition 
              <%= currentPage === 'bookings' ? 'bg-[#FF385C] text-white' : 
              'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800' %>">
              Booking
            </a>
          </li>
        <% } else { %>
          <li>
            <a href="/host/Homeslist"
              class="px-3 py-2 rounded-lg transition 
              <%= currentPage === 'hostHome' ? 'bg-[#FF385C] text-white' : 
              'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800' %>">
              Host Homes List
            </a>
          </li>
          <li>
            <a href="/host/add-home"
              class="px-3 py-2 rounded-lg transition 
              <%= currentPage === 'addHome' ? 'bg-[#FF385C] text-white' : 
              'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800' %>">
              Add Home
            </a>
          </li>
        <% } %>
      <% } %>

      <% if (!isloggedIn) { %>

        <!-- Theme Toggle Button -->
      <li>
        <button id="theme-toggle" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition">
          <span id="theme-icon">ðŸŒž</span>
          <span id="toggle" class="text-gray-700 dark:text-gray-200"></span>
        </button>
      </li>


        <li>
          <a href="/login"
            class="px-3 py-2 rounded-lg transition 
            <%= currentPage === 'login' ? 'bg-[#FF385C] text-white' : 
            'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800' %>">
            Login
          </a>
        </li>
        <li>
          <a href="/Signup"
            class="px-3 py-2 rounded-lg transition 
            <%= currentPage === 'signup' ? 'bg-[#FF385C] text-white' : 
            'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800' %>">
            SignUp
          </a>
        </li>
      <% } else { %>
        <li>
          <a href="/logout"
            class="px-3 py-2 rounded-lg transition 
            <%= currentPage === 'logout' ? 'bg-[#FF385C] text-white' : 
            'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800' %>">
            Logout
          </a>
        </li>
      <% } %>

      
    </ul>
  </nav>
</header>

<script>
  const themeToggle = document.getElementById("theme-toggle");
  const themeIcon = document.getElementById("theme-icon");
  const toggleName = document.getElementById("toggle");

  function setTheme(isDark) {
    if (isDark) {
      document.documentElement.classList.add("dark");
      themeIcon.textContent = "ðŸŒ™";
      toggleName.innerText = "Dark Theme";
      localStorage.setItem("theme", "dark");
    } else {
      document.documentElement.classList.remove("dark");
      themeIcon.textContent = "ðŸŒž";
      toggleName.innerText = "Light Theme";
      localStorage.setItem("theme", "light");
    }
  }

  // Load stored theme or system preference
  document.addEventListener("DOMContentLoaded", () => {
    const storedTheme = localStorage.getItem("theme");
    if (storedTheme) {
      setTheme(storedTheme === "dark");
    } else {
      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      setTheme(prefersDark);
    }
  });

  // Toggle theme on button click
  themeToggle.addEventListener("click", () => {
    const isDark = document.documentElement.classList.contains("dark");
    setTheme(!isDark);
  });
</script>
