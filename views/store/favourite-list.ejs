<%- include('../partials/head') %>
</head>
<body class="bg-gray-50">
  <%- include('../partials/nav') %>

  <main class="container mx-auto bg-white shadow-lg rounded-2xl p-10 mt-12 max-w-7xl">
    <h2 class="text-3xl text-[#FF385C] font-bold text-center mb-10">
      Your Favourite Homes
    </h2>

    <div class="flex flex-wrap justify-center gap-8">
      <% favouriteHomes.forEach(home => { %>
        <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition duration-300 w-full max-w-sm">
          <!-- Image -->
          <div class="overflow-hidden">
            <img src="<%= home.photo %>" alt="<%= home.houseName %>" 
                 class="w-full h-52 object-cover transform hover:scale-105 transition duration-300">
          </div>

          <!-- Card Content -->
          <div class="p-5">
            <h3 class="text-xl font-semibold text-gray-800 mb-2 truncate">
              <%= home.houseName %>
            </h3>
            <p class="text-gray-600 flex items-center mb-3">
              <i class="fas fa-map-marker-alt text-[#FF385C] mr-2"></i>
              <span><%= home.location %></span>
            </p>

            <!-- Price & Rating -->
            <div class="flex justify-between items-center mb-4">
              <span class="text-lg font-bold text-[#FF385C]">
                â‚¹<%= home.price %> / night
              </span>
              <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" 
                     viewBox="0 0 24 24" fill="currentColor" 
                     class="w-5 h-5 text-yellow-400 mr-1">
                  <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 
                  1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 
                  1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 
                  1.136-.964 2.033-1.96 1.425L12 18.354 7.373 
                  21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c
                  -.887-.76-.415-2.212.749-2.305l5.404-.433 
                  2.082-5.006z" clip-rule="evenodd"/>
                </svg>
                <span class="text-gray-700 text-sm"><%= home.rating %></span>
              </div>
            </div>

            <!-- Remove Button -->
            <form action="/favourites/delete/<%= home._id %>" method="POST">
              <button type="submit" 
                class="w-full bg-[#FF385C] text-white py-2 rounded-lg font-medium hover:bg-red-600 transition duration-300">
                Remove from Favourites
              </button>
            </form>
          </div>
        </div>
      <% }) %>
    </div>
  </main>
</body>
</html>
